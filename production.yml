version: '3'

services:
  web:
    build: .
    environment:
      - BIP39=${BIP39}
      - DATABASE_URL=${DATABASE_URL}
      - DEMO_SERVER=${DEMO_SERVER}
      - REDIS_HOST=redis
      - SENTRY_DSN=${SENTRY_DSN}
      - SLACK_SERVER=${SLACK_SERVER}
      - SLACK_APP_ID=${SLACK_APP_ID}
      - SLACK_CLIENT_ID=${SLACK_CLIENT_ID}
      - SLACK_CLIENT_SECRET=${SLACK_CLIENT_SECRET}
      - VERIFICATION_TOKEN=${VERIFICATION_TOKEN}
      - HOMEPAGE=${HOMEPAGE}
    restart: unless-stopped
    ports:
     - 8000:8000

  redis:
    image: redis:6-alpine
    restart: unless-stopped
